<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>å›¾è¡¨æµ‹è¯•</title>
    <style>
        body {
            background: #1a1a1a;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .chart-container {
            width: 800px;
            height: 400px;
            background: #2a2a2a;
            margin: 20px auto;
            padding: 20px;
            border-radius: 8px;
        }
        #testChart {
            width: 100% !important;
            height: 360px !important;
        }
    </style>
</head>
<body>
    <h1>å›¾è¡¨åŠ è½½æµ‹è¯•</h1>
    
    <div class="chart-container">
        <h3>Chart.js æµ‹è¯•å›¾è¡¨</h3>
        <canvas id="testChart"></canvas>
    </div>
    
    <div id="status" style="margin: 20px; padding: 10px; background: #333; border-radius: 4px;">
        æ­£åœ¨æ£€æµ‹ Chart.js çŠ¶æ€...
    </div>
    
    <!-- Chart.js åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        const status = document.getElementById('status');
        
        // æ£€æŸ¥ Chart.js æ˜¯å¦åŠ è½½
        if (typeof Chart === 'undefined') {
            status.innerHTML = 'âŒ Chart.js åº“æœªåŠ è½½ - CDN å¯èƒ½è¢«é˜»å¡';
            status.style.color = '#ef4444';
        } else {
            status.innerHTML = 'âœ… Chart.js åº“å·²åŠ è½½æˆåŠŸ';
            status.style.color = '#10b981';
            
            // åˆ›å»ºæµ‹è¯•å›¾è¡¨
            try {
                const ctx = document.getElementById('testChart').getContext('2d');
                
                // ç”Ÿæˆæµ‹è¯•æ•°æ®
                const labels = [];
                const data = [];
                const basePrice = 100;
                
                for (let i = 0; i < 20; i++) {
                    const time = new Date(Date.now() - (20-i) * 15 * 60000);
                    labels.push(time.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' }));
                    data.push(basePrice + Math.random() * 20 - 10);
                }
                
                const chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'BTC/USDT ä»·æ ¼',
                            data: data,
                            borderColor: '#60a5fa',
                            backgroundColor: 'rgba(96, 165, 250, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }, {
                            label: 'å…¥åœºä»·',
                            data: Array(data.length).fill(100),
                            borderColor: '#10b981',
                            borderWidth: 1,
                            borderDash: [5, 5],
                            fill: false,
                            pointRadius: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#e2e8f0'
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#94a3b8'
                                },
                                grid: {
                                    color: 'rgba(148, 163, 184, 0.1)'
                                }
                            },
                            y: {
                                ticks: {
                                    color: '#94a3b8',
                                    callback: function(value) {
                                        return '$' + value.toFixed(2);
                                    }
                                },
                                grid: {
                                    color: 'rgba(148, 163, 184, 0.1)'
                                }
                            }
                        }
                    }
                });
                
                status.innerHTML += '<br>ğŸ“Š æµ‹è¯•å›¾è¡¨åˆ›å»ºæˆåŠŸï¼';
                
            } catch (error) {
                status.innerHTML += '<br>âŒ å›¾è¡¨åˆ›å»ºå¤±è´¥: ' + error.message;
                status.style.color = '#ef4444';
                console.error('å›¾è¡¨åˆ›å»ºå¤±è´¥:', error);
            }
        }
    </script>
</body>
</html>