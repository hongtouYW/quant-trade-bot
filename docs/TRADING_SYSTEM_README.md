# 实盘模拟交易系统使用指南

## 📋 系统概述

这是一个完整的加密货币实盘模拟交易系统，包含:
- 🎯 增强版多时间框架策略
- 💰 实盘模拟交易引擎
- 📱 Telegram实时通知
- 📊 完整的风险管理
- 📈 交易记录和统计

## 🚀 快速开始

### 1. 启动系统
```bash
cd quant-trade-bot
./start_trading_system.sh
```

### 2. 系统会自动:
- 每5分钟扫描市场寻找交易机会
- 每30秒检查止损止盈
- 发现信号时自动执行交易
- 通过Telegram发送通知

## 📊 策略说明

### 多时间框架分析
- **日线**: 判断大趋势 (EMA + MACD)
- **15分钟**: 寻找精确入场点

### 技术指标组合
1. **RSI**: 超买超卖判断
2. **MACD**: 趋势动量确认
3. **布林带**: 支撑压力位
4. **EMA**: 趋势方向
5. **成交量**: 信号强度确认

### 入场条件
**多头信号** (至少满足2个 + 成交量放大):
- RSI从超卖区域(30)反弹
- MACD金叉
- 价格触及布林带下轨后反弹

**空头信号** (至少满足2个 + 成交量放大):
- RSI从超买区域(70)回落
- MACD死叉
- 价格触及布林带上轨后回落

### 风险管理
- 单笔风险: 2%
- 最大仓位: 30%
- 止损: 动态(布林带)
- 止盈: 动态(布林带)
- 风险收益比: 至少1:2

## 📁 文件说明

### enhanced_strategy.py
增强版策略引擎
- 多时间框架分析
- 多指标组合
- 动态止损止盈

### live_paper_trading.py
实盘模拟交易引擎
- 模拟订单执行
- 滑点和手续费
- 持仓管理
- Telegram通知

### integrated_trading_system.py
集成系统
- 策略 + 交易引擎
- 自动化执行
- 完整监控

## 💡 使用示例

### 仅测试策略
```python
python3 enhanced_strategy.py
```

### 仅测试模拟交易
```python
python3 live_paper_trading.py
```

### 运行完整系统
```python
python3 integrated_trading_system.py
```

## 📱 Telegram通知内容

### 开仓通知
```
📈 买入 BTC/USDT
价格: $43,250.00
数量: 0.023150
成本: $1,000.00
止损: $42,000.00
止盈: $45,000.00
```

### 平仓通知
```
📉 卖出 BTC/USDT - 止盈
价格: $45,120.00
数量: 0.023150
收益: $1,043.28
🟢 盈亏: +$43.28 (+4.33%)
━━━━━━━━━━━━━━
当前余额: $1,043.28
总盈亏: +$43.28
胜率: 100.0%
```

## 📊 交易报告

系统停止时自动生成JSON报告:
```
live_paper_trading_20260122_180000.json
```

包含:
- 所有交易记录
- 持仓信息
- 盈亏统计
- 胜率分析

## ⚙️ 参数调整

在 `integrated_trading_system.py` 中修改:

```python
# 初始资金
initial_balance=1000

# 扫描间隔 (秒)
scan_interval = 300  # 5分钟

# 检查间隔 (秒)
check_interval = 30  # 30秒

# 监控品种
symbols = ['BTC/USDT', 'ETH/USDT', 'XMR/USDT']
```

在 `live_paper_trading.py` 中修改:

```python
# 风险参数
risk_per_trade = 0.02      # 2%
max_position_size = 0.3    # 30%
stop_loss_pct = 0.03       # 3%
take_profit_pct = 0.06     # 6%

# 费用
maker_fee = 0.001          # 0.1%
taker_fee = 0.001          # 0.1%
slippage = 0.0005          # 0.05%
```

## 🎯 策略优化建议

### 1. 增加过滤条件
- ATR波动率过滤
- 市场情绪指标
- 多品种相关性

### 2. 改进止盈策略
- 移动止盈
- 分批止盈
- 趋势跟踪

### 3. 优化资金管理
- 凯利公式
- 固定比例
- 动态调整

### 4. 回测验证
```python
# 使用历史数据回测
python3 strategy_backtest.py
```

## ⚠️ 注意事项

1. **这是模拟交易**，不会真实下单
2. 结果仅供参考，实盘需谨慎
3. 定期检查策略表现
4. 根据市场调整参数
5. 保持良好的风险管理

## 📈 下一步计划

- [ ] 增加更多技术指标
- [ ] 机器学习信号过滤
- [ ] 多策略组合
- [ ] 实时性能监控
- [ ] 自动参数优化
- [ ] 真实API交易接口

## 🤝 贡献

欢迎提出建议和改进！
